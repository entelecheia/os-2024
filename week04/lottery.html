
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>스케줄링: 비례 배분 &#8212; 운영체제 2024</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-examples.css?v=e236af4b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.bundle.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-shadow.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-punk.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-noir.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-light.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-borderless.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/micromodal.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/js/hoverxref.js"></script>
    <script src="../_static/js/tooltipster.bundle.min.js"></script>
    <script src="../_static/js/micromodal.min.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-BQJE5V9RK2"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-BQJE5V9RK2');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-BQJE5V9RK2');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"tex": {"macros": {"N": "\\mathbb{N}", "floor": ["\\lfloor#1\\rfloor", 1], "bmat": ["\\left[\\begin{array}"], "emat": ["\\end{array}\\right]"]}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'week04/lottery';</script>
    <link rel="icon" href="https://assets.entelecheia.ai/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CPU 가상화 마무리 대화" href="summary.html" />
    <link rel="prev" title="스케줄링: 멀티 레벨 피드백 큐" href="mlfq.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">운영체제 2024</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Home
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Lecture Notes</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../week01/index.html">Week 1 - 아주 쉬운 세가지 이야기</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week01/dialogue.html">이 책에 관한 대화</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week01/intro.html">운영체제 개요</a></li>
<li class="toctree-l2"><a class="reference external" href="https://learn.microsoft.com/ko-kr/windows/wsl/install">WSL 설치방법</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week02/index.html">Week 2 - 가상화의 세계</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week02/dialogue.html">가상화에 관한 대화</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/cpu-intro.html">프로세스의 개념</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/cpu-api.html">프로세스 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/cpu-mechanisms.html">제한적 직접 실행 원리</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/shells.html">리눅스 셸 (Linux Shells)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/lab.html">Lab: Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/tip.html">Tip: 리눅스 프로세스 관리 명령어</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/hw-wk02.html">Homework: 프로세스</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week03/index.html">Week 3 - 스케줄링 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week03/cpu-scheduling.html">스케줄링: 개요</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week03/lab.html">Lab: 프로세스 생성과 실행 기초</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week03/wsl-setup.html">WSL에서 Ubuntu 환경구축 및 GitHub 설정하기</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week03/hw-wk03.html">Homework: 스케줄링</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Week 4 - 스케줄링 2</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="mlfq.html">스케줄링: 멀티 레벨 피드백 큐</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">스케줄링: 비례 배분</a></li>
<li class="toctree-l2"><a class="reference internal" href="summary.html">CPU 가상화 마무리 대화</a></li>
<li class="toctree-l2"><a class="reference internal" href="lab-sched.html">Lab: 스케줄링 알고리즘 시뮬레이터</a></li>
<li class="toctree-l2"><a class="reference internal" href="lab-lottery.html">Lab: Lottery 스케줄링 알고리즘 구현</a></li>
<li class="toctree-l2"><a class="reference internal" href="hw-wk04.html">Homework: 비례 배분</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week05/index.html">Week 5 - 메모리 가상화 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week05/vm-intro.html">주소 공간의 개념</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week05/vm-api.html">메모리 관리 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week05/lab.html">Lab: 메모리 구조 탐색하기</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week05/tip-linux-cmd.html">Tip: Linux 기본 명령어</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week06/index.html">Week 6 - 메모리 가상화 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week06/vm-mechanism.html">주소 변환의 원리</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week06/vm-segmentation.html">세그멘테이션 </a></li>
<li class="toctree-l2"><a class="reference internal" href="../week06/lab.html">Lab: 주소 변환 시뮬레이션</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week06/hw-wk06.html">Homework: 주소 변환의 원리</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week07/index.html">Week 7 - 메모리 가상화 3</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week07/vm-freespace.html">빈 공간 관리</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week07/hw-wk07.html">Homework: 빈 공간 관리</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week09/index.html">Week 9 - 메모리 가상화 4</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week09/vm-paging.html">페이징: 개요</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week09/vm-tlbs.html">페이징: 더 빠른 변환 (TLB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week09/vm-swap.html">물리 메모리 크기의 극복: 메커니즘</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week09/summary.html">메모리 가상화를 정리하는 대화</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week10/index.html">Week 10 - 병행성 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week10/dialogue.html">병행성에 관한 대화</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week10/threads-intro.html">병행성: 개요</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week10/threads-api.html">쓰레드 API</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week11/index.html">Week 11 - 병행성 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week11/threads-locks.html">락 </a></li>
<li class="toctree-l2"><a class="reference internal" href="../week11/threads-locks-usage.html">락 기반의 병행 자료 구조</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week12/index.html">Week 12 - 병행성 3</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week12/threads-cv.html">컨디션 변수</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week12/threads-sema.html">세마포어</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week12/summary.html">병행성을 정리하는 대화</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week13/index.html">Week 13 - 영속성 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week13/dialogue.html">영속성에 관한 대화</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week13/file-devices.html">I/O 장치</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week13/file-directory.html">파일과 디렉터리</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week14/index.html">Week 14 - 영속성 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week14/data-integrity.html">데이터 무결성과 보호</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week14/fs-implementation.html">파일 시스템 구현</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week14/summary.html">영속성을 정리하는 대화</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week15/index.html">Week 15 - 분산</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week15/dialogue.html">분산에 관한 대화</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week15/dist-intro.html">분산 시스템</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week15/summary.html">분산을 정리하는 대화</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Projects</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../projects/index.html">OS 프로젝트</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/202121006/index.html">202121006 - reverse 프로젝트</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/202121010/index.html">202121010 - Key-Value store project by ypilseong</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../projects/202221014/index.html">202221014 - Key-Value Store 구현</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../projects/202221014/project_manual.html">1. 디렉토리 구조</a></li>



</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/202321010/index.html">202321010 - reverse 프로젝트</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/202321017/index.html">202321017 - grep 프로젝트</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../projects/contents/index.html">프로젝트 과제 목록</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/contents/utilities.html">유닉스 유틸리티 프로젝트</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/contents/reverse.html"><code class="docutils literal notranslate"><span class="pre">reverse</span></code> 프로젝트</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/contents/kv.html"><code class="docutils literal notranslate"><span class="pre">kv</span></code> 프로젝트: 간단한 키-값 저장소</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/lab-tutorial.html">Lab 튜토리얼</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/tester.html">프로젝트 테스터</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/setup.html">프로젝트 환경설정</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../references/ostep/index.html">OSTEP (Korean Version)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/ostep-code/index.html">ostep-code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/ostep-homework/index.html">Homeworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/ostep-projects/index.html">Projects</a></li>
<li class="toctree-l1"><a class="reference external" href="https://kuleuven-diepenbeek.github.io/osc-course/">Operating Systems and C</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../syllabus/index.html">수업계획서</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">만든 사람들</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/contributors.html">Contributors</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://halla.ai">인공지능학과</a></li>
<li class="toctree-l1"><a class="reference external" href="https://os2024.halla.ai">운영체제 2024</a></li>
<li class="toctree-l1"><a class="reference external" href="https://mlops2024.halla.ai">머신러닝시스템 2024</a></li>
<li class="toctree-l1"><a class="reference external" href="https://cobots2024.halla.ai">협동로봇활용 2024</a></li>
<li class="toctree-l1"><a class="reference external" href="https://aibasics.halla.ai">AI 세상 속으로</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/chu-aie/os-2024" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/chu-aie/os-2024/edit/main/src/os2024/book/week04/lottery.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/chu-aie/os-2024/issues/new?title=Issue%20on%20page%20%2Fweek04/lottery.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/week04/lottery.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>스케줄링: 비례 배분</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">기본 개념 : 추첨권이 당신의 몫을 나타낸다</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">개념 설명</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">특징</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">추첨 기법</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">구현</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">장단점</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">장점</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">단점</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">예제</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">추첨권 배분 방식</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">왜 결정론적 방법을 사용하지 않는가?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">요약</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="id3">
<h1>스케줄링: 비례 배분<a class="footnote-reference brackets" href="#sadey7645" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a><a class="footnote-reference brackets" href="#gyu-bbb" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a><a class="headerlink" href="#id3" title="Link to this heading">#</a></h1>
<p>비례 배분(Proportional Share) 스케줄링은 기존의 스케줄링 알고리즘과는 다른 목적을 가지고 있습니다. 이전의 알고리즘들이 반환 시간(turnaround time)이나 응답 시간(response time)을 최적화하는 데 중점을 뒀다면, 비례 배분 스케줄링은 각 작업(job)이나 프로세스에게 CPU 시간의 일정 비율을 보장하는 것을 목표로 합니다.</p>
<p>비례 배분 스케줄링의 대표적인 예시로는 Waldspurger와 Weihl이 제안한 ‘추첨 스케줄링(Lottery Scheduling)’이 있습니다. 이 아이디어 자체는 상당히 오래되었는데, 그 기본 개념은 매우 간단합니다. 다음에 실행할 프로세스를 추첨을 통해 랜덤하게 선택하되, CPU 시간을 더 많이 할당받아야 할 프로세스에게는 추첨에 당첨될 기회를 더 많이 준다는 것이죠.</p>
<p>예를 들어, 두 개의 프로세스 A와 B가 시스템에 존재하고 A는 CPU 시간의 80%를, B는 20%를 받기로 했다고 가정해 봅시다. 추첨 스케줄링에서는 전체 추첨권(ticket) 100장 중 A에게 80장을, B에게 20장을 부여할 것입니다. 그리고 매 스케줄링 시점마다 이 추첨권 중 하나를 무작위로 뽑아, 뽑힌 추첨권을 가진 프로세스를 다음에 실행합니다. 이렇게 하면 장기적으로 봤을 때 A와 B가 각각 CPU 시간의 80%, 20%를 할당받을 수 있게 되는 거죠.</p>
<div class="admonition-cpu admonition">
<p class="admonition-title">핵심 질문: CPU를 정해진 비율로 나누는 방법은?</p>
<p>특정한 비율로 CPU 시간을 분배하도록 스케줄러를 어떻게 설계할 수 있을까요? 이를 위해 필요한 핵심 기술은 무엇이고, 그 기술은 얼마나 효과적일까요?</p>
</div>
<p>비례 배분 스케줄링의 핵심은 각 프로세스에게 할당된 ‘점유율(share)’을 어떻게 구현하느냐에 있습니다. 앞서 본 추첨 스케줄링은 각 프로세스의 점유율을 추첨권 수로 표현한 것인데, 실제 구현에서는 좀 더 다양한 방법이 사용될 수 있습니다. 예를 들어 각 프로세스에 우선순위 값을 부여하고, 그 값에 비례하는 시간 동안 CPU를 할당하는 방식 등이 있겠죠.</p>
<p>중요한 점은 비례 배분 스케줄링이 기존의 스케줄링 알고리즘과는 다른 관점에서 공정성(fairness)을 추구한다는 것입니다. 이는 응답 시간이나 반환 시간 같은 성능 지표와는 무관하게, 시스템 자원을 사용자나 관리자가 지정한 비율에 따라 엄격히 배분하는 데 주안점을 둡니다. 물론 실제 적용에 있어서는 여러 가지 trade-off가 존재하겠지만, 비례 배분은 스케줄링 문제에 대한 또 하나의 흥미로운 접근 방식임에는 틀림없어 보입니다.</p>
<section id="id4">
<h2>기본 개념 : 추첨권이 당신의 몫을 나타낸다<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<p>비례 배분 스케줄링에서 가장 중요한 개념은 바로 ‘추첨권(ticket)’입니다. 추첨권은 각 프로세스가 시스템 자원, 특히 CPU 시간을 얼마나 할당받을 것인지를 결정하는 일종의 ‘화폐’와 같은 역할을 합니다.</p>
<section id="id5">
<h3>개념 설명<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p>시스템 내의 모든 프로세스는 일정 수의 추첨권을 받습니다. 이때 각 프로세스에 할당되는 추첨권의 수는 해당 프로세스의 상대적 중요도나 우선순위를 반영합니다.</p>
<p>프로세스의 중요도가 높을수록, 또는 더 많은 CPU 시간을 할당받아야 할수록 더 많은 추첨권을 받게 되는 거죠. 예를 들어 프로세스 A가 80장의 추첨권을, 프로세스 B가 20장의 추첨권을 받았다면, 이는 A가 B에 비해 4배 더 많은 CPU 시간을 할당받아야 함을 의미합니다.</p>
<p>스케줄러는 매 스케줄링 시점마다 전체 추첨권 중 하나를 무작위로 선택하고, 뽑힌 추첨권을 가진 프로세스에게 CPU를 할당합니다. 따라서 각 프로세스가 실제로 받는 CPU 시간의 양은 전체 추첨권 중 자신이 가진 추첨권의 비율에 비례하게 되는 것입니다.</p>
<div class="admonition- admonition">
<p class="admonition-title">무작위성</p>
<p>비례 배분 스케줄링에서 사용되는 추첨권 기반의 무작위 선택 방식은 여러 가지 장점을 가지고 있습니다. 결정을 내려야 할 때, 이러한 무작위성은 강력하면서도 간단한 해법이 될 수 있습니다. 전통적인 결정 방식과 비교했을 때, 무작위 방식은 다음과 같은 세 가지 이점을 제공합니다.</p>
<ol class="arabic simple">
<li><p>특수한 상황에 대한 적응력: 무작위 선택은 특이 케이스에 잘 대응합니다. 예를 들어, 가상 메모리 시스템에서 많이 사용되는 LRU(Least Recently Used) 페이지 교체 알고리즘은 반복되는 순차 접근 패턴에 대해 최악의 성능을 보이는 경우가 있습니다. 하지만 무작위로 페이지를 선택하면 이런 최악의 시나리오를 피할 수 있습니다.</p></li>
<li><p>가벼운 구현: 무작위 추첨 방식은 관리해야 할 상태 정보가 매우 적기 때문에 구현이 간단합니다. 다른 전통적인 스케줄링 알고리즘들에 비해 알고리즘 자체의 복잡도가 낮은 편이죠.</p></li>
<li><p>빠른 의사 결정: 난수 생성이 빠르게 이루어진다면, 무작위 추첨을 통한 의사 결정도 신속하게 내려질 수 있습니다. 이는 스케줄링 결정이 자주 필요한 상황에서 특히 유용합니다. 물론 실제 구현에서는 속도 향상을 위해 순수한 무작위성을 어느 정도 포기하고 의사 난수(pseudo-random number)를 사용하기도 합니다.</p></li>
</ol>
<p>이처럼 무작위성은 비례 배분 스케줄링에 있어 단순한 해법이면서도 강력한 적응력과 효율성을 제공하는 핵심 요소라 할 수 있습니다. 특히 시스템의 동작을 예측하기 어려운 환경이나, 빠른 의사 결정이 필요한 상황에서 큰 힘을 발휘합니다.</p>
<p>물론 무작위 방식이 항상 최선의 선택을 보장하는 것은 아닙니다. 때로는 특정 프로세스에게 지나치게 불리한 결과를 초래할 수도 있죠. 하지만 장기적으로 볼 때, 무작위성은 각 프로세스에게 공정한 기회를 제공하고 특이 상황에 대한 대응력을 높여주는 효과적인 도구임에 틀림없습니다.</p>
</div>
</section>
<section id="id6">
<h3>특징<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>공평성(Fairness): 비례 배분 스케줄링은 각 프로세스가 자신의 추첨권 비율만큼 공정하게 CPU 시간을 받을 수 있도록 보장합니다. 이는 특정 프로세스가 CPU를 독점하는 것을 방지하고, 모든 프로세스가 자신의 몫만큼은 확실히 받을 수 있도록 합니다.</p></li>
<li><p>유연성(Flexibility): 프로세스의 추첨권 수를 조정함으로써 우선순위를 쉽게 변경할 수 있습니다. 새로운 프로세스가 추가되더라도 추첨권을 적절히 배분하면 되므로 시스템 변화에 유연하게 대응할 수 있습니다. 또한 시스템의 요구사항이 바뀌었을 때 추첨권의 분배 비율을 조정함으로써 자원 할당을 쉽게 튜닝할 수 있습니다.</p></li>
<li><p>상대적 중요도의 표현: 각 프로세스에게 할당된 추첨권의 수는 해당 프로세스의 상대적인 중요도를 나타냅니다. 추첨권이 많을수록 더 자주 추첨에서 선택되므로, 결과적으로 더 많은 CPU 시간을 할당받게 됩니다. 이렇게 추첨권의 비율을 통해 프로세스 간의 상대적 우선순위를 간단하고 직관적으로 표현할 수 있습니다.</p></li>
</ul>
<p>이처럼 추첨권의 개념을 도입함으로써 비례 배분 스케줄링은 사용자나 관리자가 지정한 비율에 따라 시스템 자원을 공정하고 유연하게 분배할 수 있게 됩니다. 물론 실제 구현에서는 추첨 과정을 어떻게 효율적으로 수행할 것인지, 프로세스의 동적인 생성과 종료를 어떻게 처리할 것인지 등 고려해야 할 사항이 많지만, 추첨권을 통한 자원 할당이라는 기본 아이디어 자체는 매우 흥미롭고 유용해 보입니다.</p>
</section>
</section>
<section id="id7">
<h2>추첨 기법<a class="headerlink" href="#id7" title="Link to this heading">#</a></h2>
<p>추첨권을 다루는 다양한 기법 중 하나는 추첨권 화폐(ticket currency)의 개념입니다. 이 기법은 사용자가 자신의 화폐 가치로 추첨권을 할당하고 이를 자유롭게 변환할 수 있도록 허용합니다. 예를 들어, 사용자 A와 B가 각각 100장의 추첨권을 받았다고 가정하면, A는 자신의 화폐로 500장씩을 할당하고 B는 10장을 할당했다고 해봅시다. 시스템은 각 사용자가 할당한 추첨권의 가치를 전역 기준으로 변환하여 공평하게 추첨을 진행합니다.</p>
<p>또 다른 유용한 기법은 추첨권 양도(ticket transfer)입니다. 이를 통해 프로세스는 추첨권을 일시적으로 다른 프로세스에게 양도할 수 있습니다. 이는 클라이언트/서버 환경에서 특히 유용하며, 클라이언트 프로세스가 서버에게 작업을 요청할 때 서버의 성능을 최대화하기 위해 추첨권을 전달할 수 있습니다.</p>
<p>마지막으로, 추첨권 팽창(ticket inflation) 기법은 프로세스가 일시적으로 자신이 소유한 추첨권의 수를 조절할 수 있게 합니다. 이는 서로 신뢰하는 프로세스들 간의 상호 작용에서 유용하며, 어떤 프로세스가 더 많은 CPU 시간을 필요로 할 때 다른 프로세스들과 통신하지 않고도 자체적으로 추첨권의 가치를 조절할 수 있습니다.</p>
</section>
<section id="id8">
<h2>구현<a class="headerlink" href="#id8" title="Link to this heading">#</a></h2>
<p>비례 배분 스케줄링을 실제로 구현하는 대표적인 방법으로 ‘티켓 기반 추첨(Ticket-Based Lottery)’ 알고리즘이 있습니다. 이 알고리즘은 다음과 같은 단계로 동작합니다.</p>
<ol class="arabic simple">
<li><p>티켓 할당: 각 프로세스의 상대적 중요도에 따라 일정 수의 ‘티켓(ticket)’을 부여합니다. 중요도가 높을수록 더 많은 티켓을 받게 됩니다.</p></li>
<li><p>총 티켓 수 계산: 시스템 내 모든 프로세스가 보유한 티켓의 총합을 계산합니다. 이는 다음 단계에서 추첨 범위를 정하는 데 사용됩니다.</p></li>
<li><p>무작위 추첨: 0부터 (총 티켓 수 - 1) 사이의 범위에서 무작위로 한 번호를 선택합니다. 이는 마치 모든 티켓을 모아 놓고 그 중 하나를 뽑는 것과 같습니다.</p></li>
<li><p>당첨 프로세스 확인 및 CPU 할당: 추첨에서 선택된 번호가 어떤 프로세스의 티켓에 해당하는지 확인합니다. 해당 프로세스가 이번 추첨의 ‘당첨자’가 되어 정해진 시간 동안 CPU를 독점적으로 사용할 수 있는 권한을 얻습니다.</p></li>
<li><p>주기적 반복: 3번과 4번 단계를 주기적으로 반복하여 CPU 시간을 지속해서 분배합니다. 이렇게 함으로써 장기적으로는 각 프로세스가 자신의 티켓 비율만큼 CPU 시간을 할당받을 수 있게 됩니다.</p></li>
</ol>
<p>예를 들어 다음과 같은 프로세스들이 있다고 가정해 보겠습니다.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>프로세스</p></th>
<th class="head"><p>티켓 수</p></th>
<th class="head"><p>CPU 사용 시간</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>A</p></td>
<td><p>4</p></td>
<td><p>200ms</p></td>
</tr>
<tr class="row-odd"><td><p>B</p></td>
<td><p>2</p></td>
<td><p>100ms</p></td>
</tr>
<tr class="row-even"><td><p>C</p></td>
<td><p>1</p></td>
<td><p>50ms</p></td>
</tr>
</tbody>
</table>
</div>
<p>이 경우 전체 티켓 수는 4 + 2 + 1 = 7장입니다. 스케줄러는 0부터 6 사이의 숫자 중 하나를 무작위로 선택합니다.</p>
<ul class="simple">
<li><p>0, 1, 2, 3 중 하나가 선택되면 프로세스 A가 200ms 동안 CPU를 독점합니다.</p></li>
<li><p>4, 5가 선택되면 프로세스 B가 100ms 동안 CPU를 독점합니다.</p></li>
<li><p>6이 선택되면 프로세스 C가 50ms 동안 CPU를 독점합니다.</p></li>
</ul>
<p>이러한 과정을 계속 반복하면, 결과적으로 각 프로세스가 받는 CPU 시간의 비율이 해당 프로세스의 티켓 수 비율과 일치하게 됩니다.</p>
<p>티켓 기반 추첨 알고리즘은 비례 배분 스케줄링의 핵심 아이디어를 충실히 구현한 방식입니다. 프로세스의 중요도를 티켓이라는 간단한 숫자로 표현하고, 이를 기반으로 무작위 추첨을 수행함으로써 각 프로세스에게 공정하게 CPU를 분배할 수 있습니다.</p>
<p>물론 실제 구현에서는 효율성을 위해 순수한 무작위 선택보다는 좀 더 최적화된 알고리즘을 사용할 수 있습니다. 하지만 티켓과 추첨이라는 기본 개념은 비례 배분 스케줄링을 이해하고 구현하는 데 있어 매우 직관적이고 효과적인 도구가 되고 있습니다.</p>
</section>
<section id="id9">
<h2>장단점<a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<section id="id10">
<h3>장점<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>유연성: 프로세스의 상대적 중요도를 티켓 수로 쉽게 표현할 수 있어, 중요도 변경이 용이합니다.</p></li>
<li><p>확장성: 새로운 프로세스가 추가되더라도 해당 프로세스에 적절한 수의 티켓을 부여하는 것만으로 간단히 대응할 수 있습니다.</p></li>
<li><p>장기적 공정성: 비례 배분 스케줄링은 장기적으로 볼 때 각 프로세스에게 티켓 수에 비례하는 공정한 CPU 시간 할당을 보장합니다.</p></li>
</ul>
</section>
<section id="id11">
<h3>단점<a class="headerlink" href="#id11" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>단기적 불공정성: 무작위 추첨 방식으로 인해 단기적으로는 CPU 시간 할당에 다소 불균형이 생길 수 있습니다.</p></li>
<li><p>오버헤드: 추첨 과정에서 무작위 번호를 생성하고 당첨 프로세스를 확인하는 데 어느 정도의 연산 비용이 소요됩니다.</p></li>
</ul>
</section>
</section>
<section id="id12">
<h2>예제<a class="headerlink" href="#id12" title="Link to this heading">#</a></h2>
<p>추첨 스케줄링의 동작 원리를 보다 쉽게 이해하기 위해, 두 개의 프로세스가 CPU를 공유하는 상황을 살펴보겠습니다. 각 프로세스는 동일한 수의 추첨권(예: 100장씩)을 가지고 있고, 수행해야 할 작업량도 같다고 가정합니다. 이상적으로는 두 프로세스가 거의 동시에 종료되는 것이 좋겠지만, 추첨 방식의 무작위성 때문에 한 프로세스가 다른 프로세스보다 일찍 끝날 가능성이 있습니다.</p>
<p>이런 불균형 정도를 측정하기 위해, 간단한 ‘불공정 지표(unfairness metric)’인 U를 정의해 보겠습니다. U는 먼저 종료된 프로세스의 완료 시간을 나중에 종료된 프로세스의 완료 시간으로 나눈 값입니다. 예를 들어 첫 번째 프로세스가 시간 10에 끝나고 두 번째 프로세스가 시간 20에 끝났다면, U = 10/20 = 0.5가 됩니다. 두 프로세스가 거의 동시에 종료될수록 U는 1에 가까워지겠죠. 완벽하게 공정한 스케줄러라면 U = 1을 달성할 것입니다.</p>
<p><img alt="12_2" src="https://github.com/chu-aie/os-2024/assets/162019986/b333e6f0-64cd-4655-a761-994505bc55af" /></p>
<p>위 그래프는 프로세스의 실행 시간에 따른 평균 불공정도를 보여줍니다. 프로세스 실행 시간을 1부터 1000까지 다양하게 변화시키면서 각 경우를 30번씩 시뮬레이션 해 보았습니다. 그래프에서 볼 수 있듯이, 프로세스의 실행 시간이 짧을수록 불공정도가 커지는 경향이 있습니다. 추첨 스케줄링이 의도한 결과에 근접하려면 프로세스들이 충분히 오랫동안 실행되어야 한다는 것을 알 수 있습니다.</p>
<p>이번에는 좀 더 복잡한 시나리오를 가정해 보겠습니다. 시스템 내에 A, B, C 세 개의 프로세스가 있고, 각각 다음과 같이 추첨권을 할당받았다고 합시다.</p>
<ul class="simple">
<li><p>프로세스 A: 6장</p></li>
<li><p>프로세스 B: 3장</p></li>
<li><p>프로세스 C: 1장</p></li>
</ul>
<p>전체 추첨권 수는 6 + 3 + 1 = 10장이 됩니다. 비례 배분 스케줄링은 다음과 같은 절차로 진행됩니다.</p>
<ol class="arabic simple">
<li><p><strong>추첨권 분배</strong>: 시스템은 각 프로세스의 중요도에 비례하여 추첨권을 나눠줍니다. 중요할수록 더 많은 추첨권을 받게 되고, 따라서 CPU 시간을 할당받을 확률도 높아집니다.</p></li>
<li><p><strong>추첨</strong>: 스케줄러는 1부터 10까지의 번호 중 하나를 무작위로 선택합니다.</p>
<ul class="simple">
<li><p>1~6이 나오면 프로세스 A가 선택됩니다.</p></li>
<li><p>7~9가 나오면 프로세스 B가 선택됩니다.</p></li>
<li><p>10이 나오면 프로세스 C가 선택됩니다.</p></li>
</ul>
</li>
<li><p><strong>CPU 할당</strong>: 추첨에서 뽑힌 프로세스는 정해진 시간 동안 CPU를 독점적으로 사용합니다. 이런 추첨과 할당의 과정을 계속 반복하여 시스템을 원활하게 운영합니다.</p></li>
</ol>
<p>이렇게 추첨을 충분히 많이 반복하다 보면, 결과적으로 각 프로세스는 자신의 추첨권 비율만큼 CPU 시간을 할당받게 됩니다. 위의 예시에서는 프로세스 A가 전체 CPU 시간의 약 60%, 프로세스 B가 약 30%, 프로세스 C가 약 10%를 사용하게 되겠죠.</p>
<p>물론 매 추첨마다 정확히 이 비율이 나오는 것은 아닙니다. 하지만 장기적으로 보면 평균적인 CPU 점유율이 추첨권 비율과 일치하게 되는 것이 바로 비례 배분 스케줄링이 보장하는 공정성입니다. 다만 앞서 본 것처럼 프로세스의 실행 시간이 너무 짧으면 이런 공정성이 다소 흔들릴 수 있다는 점은 유의해야 할 것 같습니다.</p>
</section>
<section id="id13">
<h2>추첨권 배분 방식<a class="headerlink" href="#id13" title="Link to this heading">#</a></h2>
<p>추첨 스케줄링에서 아직 다루지 않은 문제는 추첨권을 작업에게 어떻게 분배할지입니다. 작업들에게 몇 개의 추첨권을 주어야 하는지 결정하는 것은 시스템 동작에 큰 영향을 미치므로 상당히 복잡한 문제입니다. 한 가지 접근 방식은 사용자가 자신의 상황을 가장 잘 이해한다고 가정하는 것입니다. 각 사용자에게 추첨권을 할당한 후, 사용자가 자신이 실행하고자 하는 작업에 따라 추첨권을 분배할 수 있도록 하는 것입니다. 그러나 이 방법은 문제의 본질을 해결하지 않습니다. 어떤 작업을 수행해야 하는지 전혀 제시하지 않습니다. 주어진 작업 집합에 대한 “추첨권 할당 문제”는 여전히 해결되지 않은 채로 남아 있습니다.</p>
</section>
<section id="id14">
<h2>왜 결정론적 방법을 사용하지 않는가?<a class="headerlink" href="#id14" title="Link to this heading">#</a></h2>
<p>추첨 스케줄링은 무작위성을 활용하여 스케줄러를 단순하면서도 어느 정도 공정하게 만들 수 있지만, 완벽한 비례 배분을 보장하기는 어렵습니다. 특히 프로세스의 실행 시간이 짧을 때는 이런 한계가 더욱 두드러지죠. 이런 문제를 해결하기 위해 Waldspurger는 ‘보폭 스케줄링(stride scheduling)’이라는 결정론적 공정 배분 스케줄러를 고안했습니다.</p>
<p>보폭 스케줄링에서는 각 프로세스마다 고유한 ‘보폭(stride)’ 값을 할당합니다. 프로세스가 CPU를 사용할 때마다 ‘pass’ 변수를 보폭만큼 증가시켜 CPU 사용량을 추적합니다. 스케줄러는 이 pass 값과 보폭을 기준으로 다음에 실행할 프로세스를 결정하게 됩니다.</p>
<p>아래는 Waldspurger가 제시한 보폭 스케줄링의 의사코드입니다.</p>
<p><img alt="Waldspurger" src="https://github.com/chu-aie/os-2024/assets/162019986/7ffce4f0-e0eb-47bd-ac4c-b028717f8770" /></p>
<div class="admonition- admonition">
<p class="admonition-title">보폭 스케줄링의 동작 단계</p>
<ol class="arabic simple">
<li><p>초기화: 각 프로세스에 초기 보폭을 할당합니다. 보폭은 해당 프로세스의 우선순위나 중요도를 나타내는 값이 됩니다.</p></li>
<li><p>프로세스 선택: 실행 가능한 프로세스 중 가장 작은 pass 값을 가진 프로세스를 선택하여 CPU를 할당합니다.</p></li>
<li><p>Pass 값 업데이트: 선택된 프로세스는 CPU를 사용하는 동안 자신의 pass 값을 보폭만큼 증가시킵니다. 이를 통해 다른 프로세스들도 공정하게 CPU를 사용할 수 있게 됩니다.</p></li>
<li><p>다른 프로세스 대기: CPU를 사용 중인 프로세스 외의 다른 프로세스들은 자신의 pass 값을 유지하거나 감소시킵니다. Pass 값을 감소시키면 더 빨리 CPU를 받을 수 있고, 유지하면 기존의 순서를 유지하게 됩니다.</p></li>
<li><p>반복: CPU 사용이 끝나면 위 과정을 반복하여 다음 프로세스를 선택합니다.</p></li>
</ol>
</div>
<p><img alt="stride" src="https://github.com/chu-aie/os-2024/assets/162019986/02bae397-e96d-4240-a469-dc4674f0a849" /></p>
<p>보폭 스케줄링은 이런 방식으로 CPU 사용 시간을 프로세스 간에 공정하게 분배하여, 모든 프로세스가 자신의 중요도에 비례하여 CPU를 사용할 수 있도록 합니다.</p>
<p>그런데도 많은 경우 추첨 스케줄링이 선호되는 이유는 무엇일까요? 그것은 추첨 스케줄링이 보폭 스케줄링에 비해 가지는 고유한 장점 때문입니다.</p>
<p>보폭 스케줄링은 새로운 작업이 도착할 때마다 해당 작업의 상태 정보를 고려하여 스케줄링을 수행합니다. 예를 들어 보폭 스케줄링에서 새 작업이 도착하면 해당 작업의 초기 pass 값을 신중히 결정해야 합니다. 만약 pass 값을 0으로 설정하면 이 작업이 CPU를 독점할 수도 있는 거죠.</p>
<p>반면 추첨 스케줄링에서는 각 작업의 추첨권 수만 관리하면 됩니다. 새 작업이 추가되면 해당 작업의 추첨권 수를 전체 추첨권 수에 반영하는 것으로 충분합니다. 즉, 새 작업을 시스템에 통합하는 과정이 매우 간단해지는 것입니다.</p>
<p>또한 추첨 스케줄링은 무작위성으로 인해 특정 패턴의 작업 부하에 대해 보폭 스케줄링보다 더 나은 성능을 보일 수 있습니다. 물론 정확한 비례 배분이 필요하다면 보폭 스케줄링이 더 적합하겠지만, 많은 실제 시스템에서는 근사적인 공정성으로도 충분한 경우가 많습니다.</p>
<p>결국 추첨 스케줄링은 구현이 간단하고 새 작업 추가가 용이하며, 무작위성이 주는 이점까지 누릴 수 있어서 여전히 매력적인 선택지로 남아 있는 것입니다. 물론 정확성과 공정성 측면에서는 보폭 스케줄링에 뒤질 수밖에 없지만, 그 단순함과 유연함은 실제 시스템을 설계할 때 큰 강점으로 작용할 수 있습니다.</p>
</section>
<section id="id15">
<h2>요약<a class="headerlink" href="#id15" title="Link to this heading">#</a></h2>
<p>비례 배분 스케줄링은 시스템 내의 여러 프로세스나 작업들 사이에서 CPU 시간을 공정하게 나누어주는 방식 중 하나입니다. 이 방식에서는 각 프로세스의 상대적 중요도에 따라 일정 수의 ‘추첨권(ticket)’을 부여하는데, 이는 마치 추첨에 응모하는 것과 비슷합니다. 추첨권의 수가 많을수록 해당 프로세스가 CPU 시간을 얻을 확률이 높아지는 거죠.</p>
<p>스케줄러는 각 프로세스가 가진 추첨권의 수에 비례하여 CPU 시간을 할당합니다. 즉, 추첨권을 많이 가진 프로세스일수록 더 자주, 더 오랫동안 CPU를 사용할 수 있게 되는 것입니다. 이를 통해 프로세스의 상대적 중요도를 CPU 시간 할당에 공정하게 반영할 수 있습니다.</p>
<p>비례 배분 스케줄링의 주요 특징은 다음과 같습니다:</p>
<ul class="simple">
<li><p>상대적 중요도의 반영: 각 프로세스에 할당된 추첨권의 수는 그 프로세스의 중요도를 나타냅니다. CPU 시간은 이 추첨권 수에 비례하여 분배되므로, 중요도가 높은 프로세스는 자연스럽게 더 많은 CPU 시간을 받게 됩니다.</p></li>
<li><p>유연한 우선순위 조정: 프로세스의 중요도는 추첨권 수를 조정하는 것만으로 쉽게 변경할 수 있습니다. 새로운 프로세스가 추가되거나 기존 프로세스의 우선순위를 바꿔야 할 때 매우 유용합니다.</p></li>
<li><p>장기적 공정성 보장: 충분히 긴 시간 동안 스케줄링을 수행하면, 각 프로세스는 자신의 추첨권 비율만큼의 CPU 시간을 받게 됩니다. 이는 시스템 자원이 프로세스 간에 공정하게 분배됨을 의미합니다.</p></li>
</ul>
<p>하지만 비례 배분 스케줄링에도 몇 가지 단점이 있습니다. 우선 무작위 추첨 방식 때문에 단기적으로는 CPU 할당이 불균형해 보일 수 있습니다. 또한 추첨을 수행하고 당첨 프로세스를 확인하는 과정에서 어느 정도의 오버헤드가 발생할 수 있습니다.</p>
<p>그럼에도 불구하고 비례 배분 스케줄링은 프로세스의 상대적 중요도를 유연하게 반영하면서 시스템 자원을 효율적이고 공정하게 관리할 수 있는 강력한 방법입니다. 시스템의 요구사항과 우선순위가 다양한 환경에서 적응력을 발휘할 수 있기에, 여러 분야에서 폭넓게 활용되고 있습니다.</p>
<p>운영체제의 CPU 스케줄링 알고리즘으로서뿐만 아니라, 네트워크 대역폭 할당, 디스크 I/O 스케줄링 등 컴퓨터 시스템의 다양한 자원 관리 문제에 비례 배분 스케줄링의 아이디어를 적용할 수 있습니다. 그만큼 개념이 직관적이고 구현이 간단하면서도 효과적이라고 할 수 있겠죠.</p>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="sadey7645" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://github.com/sadey7645">김진우</a></p>
</aside>
<aside class="footnote brackets" id="gyu-bbb" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://github.com/Gyu-BBB">이규범</a></p>
</aside>
</aside>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "chu-aie/os-2024",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./week04"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="mlfq.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">스케줄링: 멀티 레벨 피드백 큐</p>
      </div>
    </a>
    <a class="right-next"
       href="summary.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">CPU 가상화 마무리 대화</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">기본 개념 : 추첨권이 당신의 몫을 나타낸다</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">개념 설명</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">특징</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">추첨 기법</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">구현</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">장단점</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">장점</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">단점</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">예제</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">추첨권 배분 방식</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">왜 결정론적 방법을 사용하지 않는가?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">요약</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By <a href='https://entelecheia.me/'>Young Joon Lee</a>
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <script
  data-embed-id="8f8d1c1a-0e3e-428a-a8a6-26acd215e1fe"
  data-base-api-url="https://chat.entelecheia.app/api/embed"
  data-brand-image-url="https://assets.entelecheia.ai/favicon.png"
  data-chat-icon="magic"
  data-sponsor-text="OS 2024"
  data-sponsor-link="https://chat.entelecheia.app/workspace/os2024"
  src="https://chat.entelecheia.app/embed/anythingllm-chat-widget.min.js">
</script>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>