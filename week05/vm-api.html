
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>메모리 관리 API &#8212; 운영체제 2024</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-examples.css?v=e236af4b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.bundle.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-shadow.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-punk.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-noir.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-light.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-borderless.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/micromodal.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/js/hoverxref.js"></script>
    <script src="../_static/js/tooltipster.bundle.min.js"></script>
    <script src="../_static/js/micromodal.min.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-BQJE5V9RK2"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-BQJE5V9RK2');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-BQJE5V9RK2');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"tex": {"macros": {"N": "\\mathbb{N}", "floor": ["\\lfloor#1\\rfloor", 1], "bmat": ["\\left[\\begin{array}"], "emat": ["\\end{array}\\right]"]}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'week05/vm-api';</script>
    <link rel="icon" href="https://assets.entelecheia.ai/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lab: 메모리 구조 탐색하기" href="lab.html" />
    <link rel="prev" title="주소 공간의 개념" href="vm-intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">운영체제 2024</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Home
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Lecture Notes</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../week01/index.html">Week 1 - 아주 쉬운 세가지 이야기</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week01/dialogue.html">이 책에 관한 대화</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week01/intro.html">운영체제 개요</a></li>
<li class="toctree-l2"><a class="reference external" href="https://learn.microsoft.com/ko-kr/windows/wsl/install">WSL 설치방법</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week02/index.html">Week 2 - 가상화의 세계</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week02/dialogue.html">가상화에 관한 대화</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/cpu-intro.html">프로세스의 개념</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/cpu-api.html">프로세스 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/cpu-mechanisms.html">제한적 직접 실행 원리</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/shells.html">리눅스 셸 (Linux Shells)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/lab.html">Lab: Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/tip.html">Tip: 리눅스 프로세스 관리 명령어</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week02/hw-wk02.html">Homework: 프로세스</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week03/index.html">Week 3 - 스케줄링 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week03/cpu-scheduling.html">스케줄링: 개요</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week03/lab.html">Lab: 프로세스 생성과 실행 기초</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week03/wsl-setup.html">WSL에서 Ubuntu 환경구축 및 GitHub 설정하기</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week03/hw-wk03.html">Homework: 스케줄링</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week04/index.html">Week 4 - 스케줄링 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week04/mlfq.html">스케줄링: 멀티 레벨 피드백 큐</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week04/lottery.html">스케줄링: 비례 배분</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week04/summary.html">CPU 가상화 마무리 대화</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week04/lab-sched.html">Lab: 스케줄링 알고리즘 시뮬레이터</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week04/lab-lottery.html">Lab: Lottery 스케줄링 알고리즘 구현</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week04/hw-wk04.html">Homework: 비례 배분</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Week 5 - 메모리 가상화 1</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="vm-intro.html">주소 공간의 개념</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">메모리 관리 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="lab.html">Lab: 메모리 구조 탐색하기</a></li>
<li class="toctree-l2"><a class="reference internal" href="tip-linux-cmd.html">Tip: Linux 기본 명령어</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week06/index.html">Week 6 - 메모리 가상화 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week06/vm-mechanism.html">주소 변환의 원리</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week06/vm-segmentation.html">세그멘테이션 </a></li>
<li class="toctree-l2"><a class="reference internal" href="../week06/lab.html">Lab: 주소 변환 시뮬레이션</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week06/hw-wk06.html">Homework: 주소 변환의 원리</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week07/index.html">Week 7 - 메모리 가상화 3</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week07/vm-freespace.html">빈 공간 관리</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week07/hw-wk07.html">Homework: 빈 공간 관리</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week09/index.html">Week 9 - 메모리 가상화 4</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week09/vm-paging.html">페이징: 개요</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week09/vm-tlbs.html">페이징: 더 빠른 변환 (TLB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week09/vm-swap.html">물리 메모리 크기의 극복: 메커니즘</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week09/summary.html">메모리 가상화를 정리하는 대화</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week10/index.html">Week 10 - 병행성 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week10/dialogue.html">병행성에 관한 대화</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week10/threads-intro.html">병행성: 개요</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week10/threads-api.html">쓰레드 API</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week11/index.html">Week 11 - 병행성 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week11/threads-locks.html">락 </a></li>
<li class="toctree-l2"><a class="reference internal" href="../week11/threads-locks-usage.html">락 기반의 병행 자료 구조</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week12/index.html">Week 12 - 병행성 3</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week12/threads-cv.html">컨디션 변수</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week12/threads-sema.html">세마포어</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week12/summary.html">병행성을 정리하는 대화</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week13/index.html">Week 13 - 영속성 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week13/dialogue.html">영속성에 관한 대화</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week13/file-devices.html">I/O 장치</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week13/file-directory.html">파일과 디렉터리</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week14/index.html">Week 14 - 영속성 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week14/data-integrity.html">데이터 무결성과 보호</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week14/fs-implementation.html">파일 시스템 구현</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week14/summary.html">영속성을 정리하는 대화</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../week15/index.html">Week 15 - 분산</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../week15/dialogue.html">분산에 관한 대화</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week15/dist-intro.html">분산 시스템</a></li>
<li class="toctree-l2"><a class="reference internal" href="../week15/summary.html">분산을 정리하는 대화</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Projects</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../projects/index.html">OS 프로젝트</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/202121006/index.html">202121006 - reverse 프로젝트</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/202121010/index.html">202121010 - Key-Value store project by ypilseong</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../projects/202221014/index.html">202221014 - Key-Value Store 구현</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../projects/202221014/project_manual.html">1. 디렉토리 구조</a></li>



</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/202321010/index.html">202321010 - reverse 프로젝트</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/202321017/index.html">202321017 - grep 프로젝트</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../projects/contents/index.html">프로젝트 과제 목록</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/contents/utilities.html">유닉스 유틸리티 프로젝트</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/contents/reverse.html"><code class="docutils literal notranslate"><span class="pre">reverse</span></code> 프로젝트</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/contents/kv.html"><code class="docutils literal notranslate"><span class="pre">kv</span></code> 프로젝트: 간단한 키-값 저장소</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/lab-tutorial.html">Lab 튜토리얼</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/tester.html">프로젝트 테스터</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/setup.html">프로젝트 환경설정</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../references/ostep/index.html">OSTEP (Korean Version)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/ostep-code/index.html">ostep-code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/ostep-homework/index.html">Homeworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/ostep-projects/index.html">Projects</a></li>
<li class="toctree-l1"><a class="reference external" href="https://kuleuven-diepenbeek.github.io/osc-course/">Operating Systems and C</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../syllabus/index.html">수업계획서</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">만든 사람들</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/contributors.html">Contributors</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://halla.ai">인공지능학과</a></li>
<li class="toctree-l1"><a class="reference external" href="https://os2024.halla.ai">운영체제 2024</a></li>
<li class="toctree-l1"><a class="reference external" href="https://mlops2024.halla.ai">머신러닝시스템 2024</a></li>
<li class="toctree-l1"><a class="reference external" href="https://cobots2024.halla.ai">협동로봇활용 2024</a></li>
<li class="toctree-l1"><a class="reference external" href="https://aibasics.halla.ai">AI 세상 속으로</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/chu-aie/os-2024" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/chu-aie/os-2024/edit/main/src/os2024/book/week05/vm-api.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/chu-aie/os-2024/issues/new?title=Issue%20on%20page%20%2Fweek05/vm-api.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/week05/vm-api.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>메모리 관리 API</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">메모리 공간의 종류</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#malloc">malloc() 함수</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#free">free() 함수</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">운영체제의 지원 </a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">기타 함수들</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">요약</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="api">
<h1>메모리 관리 API<a class="headerlink" href="#api" title="Link to this heading">#</a></h1>
<p>이 장에서는 Unix 시스템에서 메모리를 관리하기 위한 API(Application Programming Interface)에 대해 알아보겠습니다. 여기서 말하는 메모리란 프로세스의 사용자 주소 공간을 의미합니다. 우리가 해결하고자 하는 핵심 질문은 다음과 같습니다.</p>
<div class="admonition- admonition">
<p class="admonition-title">핵심 질문</p>
<p>프로그램에서 메모리를 어떻게 할당하고 관리해야 할까?</p>
</div>
<p>Unix/C 프로그램에서 메모리를 효과적으로 사용하는 방법을 이해하는 것은 안정적이고 강력한 소프트웨어를 개발하는 데 있어 매우 중요합니다. 어떤 API가 제공되고, 어떤 실수를 피해야 하는지 살펴보도록 하겠습니다.</p>
<section id="id2">
<h2>메모리 공간의 종류<a class="footnote-reference brackets" href="#parkeunseongkr" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a><a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<p>C 프로그램이 실행될 때, 크게 두 가지 유형의 메모리 공간이 할당됩니다.</p>
<p>첫 번째는 ‘스택(stack)’ 메모리입니다. 스택 메모리의 할당과 해제는 프로그래머를 대신하여 컴파일러가 자동으로 처리해줍니다. 그래서 때로는 ‘자동(automatic)’ 메모리라고도 불립니다.</p>
<p>C에서 스택에 메모리를 할당하는 것은 매우 간단합니다. 예를 들어 <code class="docutils literal notranslate"><span class="pre">func()</span></code>라는 함수 내에서 <code class="docutils literal notranslate"><span class="pre">x</span></code>라는 이름의 정수 변수를 선언한다고 해 보죠.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">func</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">  </span><span class="c1">// 스택에 정수형 변수 선언</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>컴파일러는 <code class="docutils literal notranslate"><span class="pre">func()</span></code>가 호출될 때 스택 프레임 내에 <code class="docutils literal notranslate"><span class="pre">x</span></code>를 위한 공간을 마련해 둡니다.</p>
<p>두 번째 유형은 ‘힙(heap)’ 메모리입니다. 힙은 함수 호출이 끝난 후에도 유지되어야 하는 데이터를 저장하는 데 사용됩니다. 힙 메모리의 할당과 해제는 프로그래머가 직접 관리해야 합니다.</p>
<p>다음은 힙에 정수 포인터를 할당하는 예시 코드입니다.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">func</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>이 코드에는 몇 가지 주목할 점이 있습니다.</p>
<p>먼저 한 줄 안에서 스택과 힙 할당이 동시에 일어납니다. 컴파일러는 <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">*x</span></code> 선언을 보고 정수 포인터를 위한 공간을 스택에 마련합니다. 그리고 <code class="docutils literal notranslate"><span class="pre">malloc()</span></code> 함수 호출을 통해 정수 자체를 저장할 공간을 힙에서 동적으로 할당받습니다.</p>
<p><code class="docutils literal notranslate"><span class="pre">malloc()</span></code>이 반환하는 것은 새로 할당된 공간의 주소값입니다. 성공 시에는 해당 주소를, 실패 시에는 <code class="docutils literal notranslate"><span class="pre">NULL</span></code>을 돌려주죠. 이 주소값은 스택의 <code class="docutils literal notranslate"><span class="pre">x</span></code> 변수에 저장되어 프로그램에서 사용됩니다.</p>
<p>이처럼 명시적으로 메모리를 관리해야 하고 다양한 용도로 사용되는 힙 메모리는 프로그래머에게나 시스템에게나 쉽지 않은 도전 과제입니다. 앞으로의 논의는 주로 힙 메모리 관리에 초점을 맞출 것입니다.</p>
<p>몇 가지 핵심 용어를 정리해 보겠습니다.</p>
<ul class="simple">
<li><p>API (Application Programming Interface)</p>
<ul>
<li><p>운영체제나 라이브러리가 제공하는 함수나 메서드의 집합을 말합니다. 프로그래머는 API를 통해 시스템 자원에 접근하고 제어할 수 있습니다.</p></li>
</ul>
</li>
<li><p>스택 (Stack)</p>
<ul>
<li><p>함수 호출 시 할당되는 메모리 영역으로, 함수의 매개변수, 지역변수, 리턴 주소 등이 저장됩니다. LIFO(Last-In-First-Out) 구조를 가지며, 함수 호출이 완료되면 자동으로 해제됩니다.</p></li>
</ul>
</li>
<li><p>힙 (Heap)</p>
<ul>
<li><p>프로그램이 실행 중에 동적으로 할당하고 해제할 수 있는 메모리 영역입니다. 프로그래머가 직접 메모리 생명주기를 관리해야 합니다. 힙은 스택과 달리 비연속적이고 임의 접근 가능한 메모리 블록들로 구성됩니다.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">malloc()</span></code></p>
<ul>
<li><p>C 언어에서 힙 메모리를 동적 할당하기 위해 사용하는 함수입니다. 할당할 바이트 수를 인자로 받아, 성공 시 할당된 메모리의 주소를 <code class="docutils literal notranslate"><span class="pre">void*</span></code> 타입으로 반환합니다.</p></li>
</ul>
</li>
</ul>
<p>이제 실제로 어떤 API들이 있는지, 그리고 메모리 관리에서 주의해야 할 점은 무엇인지 하나씩 살펴보도록 하겠습니다.</p>
</section>
<section id="malloc">
<h2>malloc() 함수<a class="headerlink" href="#malloc" title="Link to this heading">#</a></h2>
<p>malloc()은 힙에서 메모리를 동적으로 할당하는 함수입니다. 사용법은 매우 간단한데요, 필요한 메모리의 크기(바이트 단위)를 인자로 전달하면 됩니다. 할당에 성공하면 새로 할당된 메모리 블록의 시작 주소를 가리키는 포인터를 반환하고, 실패하면 NULL을 반환합니다.</p>
<p>malloc()을 사용하려면 어떻게 해야 할까요? 먼저 관련 함수 원형이 선언된 헤더 파일 <code class="docutils literal notranslate"><span class="pre">&lt;stdlib.h&gt;</span></code>를 소스 코드에 포함시켜야 합니다. 그리고 다음과 같은 형태로 함수를 호출하면 됩니다.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="nf">malloc</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p>여기서 <code class="docutils literal notranslate"><span class="pre">size</span></code>는 할당받고자 하는 메모리의 크기를 바이트 단위로 나타낸 값입니다. 이 크기를 정확히 지정하기 위해 보통 <code class="docutils literal notranslate"><span class="pre">sizeof()</span></code> 연산자를 사용합니다.</p>
<p>C에서 <code class="docutils literal notranslate"><span class="pre">sizeof()</span></code>는 컴파일 시점에 평가되는 연산자로, 인자로 전달된 데이터 타입이나 변수의 크기를 바이트 단위로 반환합니다. 따라서 <code class="docutils literal notranslate"><span class="pre">sizeof()</span></code>는 함수 호출이 아니라 연산자로 취급됩니다.</p>
<p>예를 들어 <code class="docutils literal notranslate"><span class="pre">malloc(sizeof(double))</span></code>과 같이 호출하면, <code class="docutils literal notranslate"><span class="pre">sizeof(double)</span></code>은 컴파일 시점에 상수 값 8(64비트 시스템 기준)으로 대체되어 <code class="docutils literal notranslate"><span class="pre">malloc()</span></code>에 전달되는 거죠.</p>
<p>그런데 <code class="docutils literal notranslate"><span class="pre">sizeof()</span></code>를 변수에 적용할 때는 주의해야 합니다. 다음 코드를 봅시다.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="mi">10</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
</pre></div>
</div>
<p>첫 번째 줄에서는 정수 10개를 저장할 수 있는 배열을 위한 메모리를 할당했습니다. 그런데 두 번째 줄에서 <code class="docutils literal notranslate"><span class="pre">sizeof(x)</span></code>를 출력해 보면, 4(32비트 시스템)나 8(64비트 시스템)이 나옵니다.</p>
<p>왜 그럴까요? 여기서 <code class="docutils literal notranslate"><span class="pre">sizeof()</span></code>는 <code class="docutils literal notranslate"><span class="pre">x</span></code>가 가리키는 메모리 블록의 크기가 아니라, 포인터 변수 <code class="docutils literal notranslate"><span class="pre">x</span></code> 자체의 크기를 반환하기 때문입니다.</p>
<p>반면 다음과 같이 정적 배열에 <code class="docutils literal notranslate"><span class="pre">sizeof()</span></code>를 적용하면 기대한 대로 동작합니다.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">x</span><span class="p">));</span><span class="w">  </span><span class="c1">// 40 출력 (32비트 시스템 기준)</span>
</pre></div>
</div>
<p>문자열을 다룰 때도 조심해야 합니다. 문자열을 저장할 공간을 동적 할당할 때는 보통 <code class="docutils literal notranslate"><span class="pre">malloc(strlen(s)</span> <span class="pre">+</span> <span class="pre">1)</span></code>과 같은 코드를 사용합니다. <code class="docutils literal notranslate"><span class="pre">strlen()</span></code>으로 문자열의 길이를 구한 뒤, 마지막 NULL 문자를 저장할 공간까지 확보하는 거죠. 이때 <code class="docutils literal notranslate"><span class="pre">sizeof()</span></code>를 쓰면 원하는 결과를 얻지 못합니다.</p>
<p>한 가지 더 눈여겨볼 점은 <code class="docutils literal notranslate"><span class="pre">malloc()</span></code>의 반환 타입이 <code class="docutils literal notranslate"><span class="pre">void*</span></code>라는 것입니다. 이는 C 언어의 특징을 잘 보여주는데요, <code class="docutils literal notranslate"><span class="pre">malloc()</span></code>은 그저 메모리 블록의 주소만 반환할 뿐, 그 공간을 어떤 타입의 데이터를 저장하는 데 사용할지는 전적으로 프로그래머에게 맡기는 겁니다.</p>
<p>따라서 <code class="docutils literal notranslate"><span class="pre">malloc()</span></code>이 반환한 <code class="docutils literal notranslate"><span class="pre">void*</span></code> 값은 적절한 타입의 포인터로 캐스팅해서 사용해야 합니다. 앞선 예제에서 <code class="docutils literal notranslate"><span class="pre">(int*)</span></code>로 캐스팅한 것처럼 말이죠. 사실 캐스팅이 없어도 프로그램은 돌아가지만, 명시적 캐스팅을 통해 의도를 분명히 하는 게 좋은 습관입니다.</p>
</section>
<section id="free">
<h2>free() 함수<a class="headerlink" href="#free" title="Link to this heading">#</a></h2>
<p>사실 메모리 할당보다 더 어려운 문제는 할당한 메모리를 언제, 어떻게 해제할 것인가 하는 점입니다.</p>
<p>힙에서 동적 할당한 메모리가 더 이상 필요 없어졌을 때, 이를 시스템에 반환하는 작업은 전적으로 프로그래머의 책임입니다. 이를 위해 <code class="docutils literal notranslate"><span class="pre">free()</span></code> 함수를 사용합니다.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="mi">10</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>
<span class="c1">// ...</span>
<span class="n">free</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">free()</span></code>는 인자로 <code class="docutils literal notranslate"><span class="pre">malloc()</span></code>이 반환한 포인터 값 하나만 받습니다. 해제할 메모리 블록의 크기는 전달하지 않는데요, 메모리 할당 라이브러리가 내부적으로 관리하고 있기 때문입니다.</p>
<p>여기서 주목할 점은, 동적 할당한 메모리를 해제하는 것이 전적으로 프로그래머의 책임이라는 사실입니다. 메모리 누수(memory leak)를 방지하려면 불필요해진 메모리를 빠짐없이 <code class="docutils literal notranslate"><span class="pre">free()</span></code>로 해제해야 합니다.</p>
<p>반대로 이미 해제된 메모리를 또 다시 해제하려 하면 언디파인드 비헤이비어(undefined behavior)를 초래할 수 있으므로, 이 점도 주의해야 겠죠.</p>
<p>이처럼 동적 메모리 관리는 C 프로그래밍에서 가장 까다롭고 중요한 주제 중 하나입니다. <code class="docutils literal notranslate"><span class="pre">malloc()</span></code>과 <code class="docutils literal notranslate"><span class="pre">free()</span></code>의 사용법을 정확히 익히고, 메모리 누수나 이중 해제와 같은 실수를 피하는 것이 안정적인 프로그램을 작성하는 핵심 요령이라 할 수 있겠습니다.</p>
</section>
<section id="id4">
<h2>운영체제의 지원 <a class="footnote-reference brackets" href="#jo-sehyun" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a><a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<p>C 표준 라이브러리에서 제공하는 <code class="docutils literal notranslate"><span class="pre">malloc()</span></code>과 <code class="docutils literal notranslate"><span class="pre">free()</span></code> 함수는 각각 메모리 할당과 해제를 담당합니다. 이들은 시스템 콜이 아닌 라이브러리 함수로, 프로세스의 가상 주소 공간 내에서 힙 메모리를 관리하는 역할을 합니다.</p>
<p>하지만 라이브러리 자체는 운영체제에게 메모리를 요청하고 반환하는 시스템 콜을 기반으로 동작합니다. 대표적인 예가 <code class="docutils literal notranslate"><span class="pre">brk</span></code> 시스템 콜인데요, 이는 프로그램의 ‘브레이크(break)’ 위치를 조정하여 힙의 크기를 늘리거나 줄이는 기능을 합니다.</p>
<p>여기서 브레이크란 힙의 끝을 가리키는 포인터를 말합니다. <code class="docutils literal notranslate"><span class="pre">brk</span></code> 시스템 콜은 새로운 브레이크 주소값을 인자로 받아, 그에 맞춰 힙 영역을 조정하는 거죠. 비슷한 역할을 하는 <code class="docutils literal notranslate"><span class="pre">sbrk</span></code> 함수도 있는데, 이는 브레이크 위치를 얼마나 옮길지 그 증감량을 인자로 받습니다.</p>
<p>그런데 중요한 점은 프로그래머가 직접 <code class="docutils literal notranslate"><span class="pre">brk</span></code>나 <code class="docutils literal notranslate"><span class="pre">sbrk</span></code>를 호출해서는 안 된다는 것입니다. 이들은 <code class="docutils literal notranslate"><span class="pre">malloc()</span></code>이나 <code class="docutils literal notranslate"><span class="pre">free()</span></code> 같은 메모리 할당 라이브러리 내부에서만 사용되어야 합니다. 직접 호출할 경우 예측 불가능한 문제가 발생할 수 있으므로, 반드시 표준 라이브러리 함수를 통해 메모리를 다뤄야 합니다.</p>
<p>또 다른 방법으로는 <code class="docutils literal notranslate"><span class="pre">mmap()</span></code> 함수를 사용하여 운영체제로부터 메모리를 받아올 수도 있습니다. 적절한 인자를 전달하면 <code class="docutils literal notranslate"><span class="pre">mmap()</span></code>은 파일과 연결되지 않은 익명(anonymous) 메모리 영역을 할당해 주는데요, 이 공간은 힙과 유사하게 다룰 수 있습니다. 특히 대용량 메모리가 필요할 때 유용하게 활용할 수 있는 방법입니다.</p>
</section>
<section id="id5">
<h2>기타 함수들<a class="headerlink" href="#id5" title="Link to this heading">#</a></h2>
<p>메모리 관리와 관련하여 알아두면 좋은 추가 함수들이 몇 가지 더 있습니다.</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">calloc()</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">malloc()</span></code>과 비슷하지만, 할당된 메모리 블록을 모두 0으로 초기화한 뒤 반환합니다.</p></li>
<li><p>초기화를 빠뜨리는 실수를 방지하고자 할 때 유용합니다.</p></li>
<li><p>특히 동적 할당한 배열을 0으로 초기화할 때 많이 쓰이며, ‘초기화되지 않은 읽기’와 같은 미묘한 버그를 예방하는 데 도움이 됩니다.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">realloc()</span></code></p>
<ul class="simple">
<li><p>이미 <code class="docutils literal notranslate"><span class="pre">malloc()</span></code>이나 <code class="docutils literal notranslate"><span class="pre">calloc()</span></code>으로 할당한 메모리 블록의 크기를 조정할 때 사용합니다.</p></li>
<li><p>예컨대 동적 할당한 배열의 크기를 늘리거나 줄일 때 유용하죠.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">realloc()</span></code>을 호출하면 기존 블록보다 큰 새 메모리 블록을 할당하고, 이전 블록의 내용을 모두 복사해 옵니다. 그리고 새 블록의 주소를 반환하죠.</p></li>
<li><p>이를 통해 메모리를 재사용하면서도 블록 크기를 유연하게 변경할 수 있습니다.</p></li>
</ul>
</li>
</ol>
</section>
<section id="id6">
<h2>요약<a class="headerlink" href="#id6" title="Link to this heading">#</a></h2>
<p>이번 장에서는 C 프로그램에서 사용되는 두 가지 메모리 영역, 스택(stack)과 힙(heap)에 대해 살펴보았습니다.</p>
<ol class="arabic simple">
<li><p>스택: 함수 호출과 관련된 지역 변수, 매개변수, 리턴 주소 등을 저장하는 메모리 영역입니다. 컴파일러에 의해 자동으로 관리되므로 프로그래머가 직접 할당하거나 해제할 필요가 없죠. 함수 내에서 변수를 선언하면 해당 함수의 스택 프레임에 메모리가 할당됩니다.</p></li>
<li><p>힙: 프로그램 실행 중에 동적으로 할당하고 해제하는 메모리 영역입니다. 모든 할당과 해제를 프로그래머가 직접 관리해야 하는 게 특징이에요. <code class="docutils literal notranslate"><span class="pre">malloc()</span></code> 함수로 힙에서 원하는 크기의 블록을 할당받고, 다 쓴 뒤에는 <code class="docutils literal notranslate"><span class="pre">free()</span></code>로 반환하는 식이죠.</p></li>
</ol>
<p>이 두 메모리 영역은 각기 다른 용도와 수명 주기를 가지고 있습니다. 따라서 프로그램에서는 보통 스택과 힙을 적절히 조합하여 필요한 데이터를 저장하고 관리하게 되죠.</p>
<p>부가적으로 <code class="docutils literal notranslate"><span class="pre">calloc()</span></code>이나 <code class="docutils literal notranslate"><span class="pre">realloc()</span></code> 같은 함수를 활용하면 메모리 초기화나 크기 조정도 손쉽게 할 수 있습니다.</p>
<p>이처럼 운영체제와 시스템 콜의 도움을 받아 구현된 다양한 메모리 관리 라이브러리 함수들을 잘 이용한다면, 보다 안전하고 효율적인 프로그램을 만들 수 있을 것입니다.</p>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="parkeunseongkr" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://github.com/ParkEunSeongKR">박은성</a></p>
</aside>
<aside class="footnote brackets" id="jo-sehyun" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://github.com/Jo-Sehyun">조세현</a></p>
</aside>
</aside>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "chu-aie/os-2024",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./week05"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="vm-intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">주소 공간의 개념</p>
      </div>
    </a>
    <a class="right-next"
       href="lab.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Lab: 메모리 구조 탐색하기</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">메모리 공간의 종류</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#malloc">malloc() 함수</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#free">free() 함수</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">운영체제의 지원 </a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">기타 함수들</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">요약</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By <a href='https://entelecheia.me/'>Young Joon Lee</a>
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <script
  data-embed-id="8f8d1c1a-0e3e-428a-a8a6-26acd215e1fe"
  data-base-api-url="https://chat.entelecheia.app/api/embed"
  data-brand-image-url="https://assets.entelecheia.ai/favicon.png"
  data-chat-icon="magic"
  data-sponsor-text="OS 2024"
  data-sponsor-link="https://chat.entelecheia.app/workspace/os2024"
  src="https://chat.entelecheia.app/embed/anythingllm-chat-widget.min.js">
</script>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>